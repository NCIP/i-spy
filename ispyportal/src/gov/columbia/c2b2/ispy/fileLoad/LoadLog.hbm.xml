<?xml version="1.0" encoding="UTF-8"?>

<!--L
   Copyright SAIC

   Distributed under the OSI-approved BSD 3-Clause License.
   See http://ncip.github.com/i-spy/LICENSE.txt for details.
L-->

<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="gov.columbia.c2b2.ispy.fileLoad" >

	<class name="LoadLog" table="UPLOAD_LOG" lazy="true">

		<id name="recId" type="java.lang.Long" column="REC_ID" >
			<generator class="increment" />
		</id>
		
		<property name="usrId"
                 type="java.lang.Long"
                 column="USER_ID"
                 insert="true"
                 update="true" />
 
        <property name="fileName"
                 type="java.lang.String"
                 column="FILE_NAME"
                 insert="true"
                 update="true" /> 
 
         <property name="validScriptName"
                 type="java.lang.String"
                 column="VALIDATION_SCRIPT_NAME"
                 insert="true"
                 update="true" /> 
                 
        <property name="procOutFileName"
                 type="java.lang.String"
                 column="PROC_OUT_FILE_NAME"
                 insert="true"
                 update="true" /> 
                 
        <property name="uploadScriptName"
                 type="java.lang.String"
                 column="UPLOAD_SCRIPT_NAME"
                 insert="true"
                 update="true" /> 
                 
        <property name="outFileName"
                 type="java.lang.String"
                 column="OUT_FILE_NAME"
                 insert="true"
                 update="true" /> 
                 
        <property name="uploadStatus"
                 type="character"
                 column="UPLOAD_STATUS"
                 insert="true"
                 update="true" /> 
           
		<property name="numRecs"
                 type="java.lang.Long"
                 column="NUM_OF_RECS"
                 insert="true"
                 update="true" />
        

        <property name="updateDate"
                 type="timestamp"
                 column="UPDATE_DATE"
                 insert="true"
                 update="true" />
<!--                 
       <property name="outContent"
                 type="java.lang.String"
                 column="OUT_CONTENT"
                 insert="true"
                 update="true" />
-->
		<set name="files" order-by="FILE_NAME" lazy="false" fetch="select" inverse="false" cascade="all" node="externalReferences" embed-xml="true">
        	    <cache usage="read-write" />
           	 	<key foreign-key="LOG_ID">
            	    <column name="LOG_ID" sql-type="BIGINT"/>
            	</key>
            	<one-to-many class="gov.columbia.c2b2.ispy.fileLoad.LogFileContent" not-found="exception"/>
		</set>



		</class>
</hibernate-mapping>
