<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
	
    <!-- ========== Data Source Configuration ============================== -->
    <data-sources />
    <!-- ========== Form Bean Definitions ================================== -->
    <form-beans>
    	<form-bean name="viewResultsForm" type="gov.nih.nci.ispy.web.struts.form.ViewResultsForm"/>
   		<form-bean name="classComparisonForm" type="gov.nih.nci.ispy.web.struts.form.ClassComparisonForm"/>
		<form-bean name="principalComponentForm" type="gov.nih.nci.ispy.web.struts.form.PrincipalComponentForm"/>
		<form-bean name="userPreferencesBean" type="gov.nih.nci.ispy.web.struts.bean.UserPreferencesBean"/>				
		<form-bean name="hierarchicalClusteringForm" type="gov.nih.nci.ispy.web.struts.form.HierarchicalClusteringForm"/>
		<form-bean name="loginForm" type="gov.nih.nci.ispy.web.struts.form.LoginForm"/>
   		<form-bean name="logoutForm" type="gov.nih.nci.ispy.web.struts.form.LogoutForm"/>
   	
  </form-beans>
  <!-- ========== Global Exception Definitions ============================ -->
  <global-exceptions />
  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards>
  
  </global-forwards>
    
    <!-- ========== Action Mapping Definitions ============================ -->
    
  <action-mappings>
  
   <action path="/loginHome"
    forward="ispy.login" />
    
   <action path="/login"
           type="gov.nih.nci.ispy.web.struts.action.LoginAction"
           name="loginForm"
           scope="request"
           input="ispy.login">
    <forward name="success" path="ispy.analysisHome"/> 
    <forward name="failure" path="ispy.login"/>    
    </action> 
    
    <action path="/logout"
           type="gov.nih.nci.ispy.web.struts.action.LogoutAction"
           scope="request"
           input="ispy.analysisHome">
    <forward name="logout" path="ispy.login"/>
    <forward name="dontLogout" path="ispy.analysisHome"/>
    </action>   
    
    <action path="/analysisHome"
		forward="ispy.analysisHome"/>
	   
	<action path="/classComparison"
         forward="ispy.classComparison" />
         
    <action path="/classcomparisonInit"    	    
	    type="gov.nih.nci.ispy.web.struts.action.ClassComparisonAction"
		name="classComparisonForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="backToClassComparison" path="ispy.classComparison" />
		<forward name="classComparisonSetup" path="/classcomparisonInit.do?method=setup" />
	</action>
	
	<action path="/classcomparison"
	    input="/classcomparisonInit.do?method=setup"
		type="gov.nih.nci.ispy.web.struts.action.ClassComparisonAction"
		name="classComparisonForm"
		scope="request"
		validate="true"
		parameter="method">
		<forward name="backToClassComparison" path="ispy.classComparison" />
		<forward name="classComparisonSetup" path="/classcomparisonInit.do?method=setup" />
		<forward name="viewResults" path="/viewResults.do" />
	</action>
	
	
	<action path="/principalComponent"
         forward="nautilus.principalComponent" />
         
    <action path="/principalcomponentInit"
		type="gov.nih.nci.ispy.web.struts.action.PrincipalComponentAction"
		name="principalComponentForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="backToPrincipalComponent" path="ispy.principalComponent" />
		<forward name="principalComponentSetup" path="/principalcomponentInit.do?method=setup" />
	</action>
	
	<action path="/principalcomponent"
	    input="/principalcomponentInit.do?method=setup"
		type="gov.nih.nci.ispy.web.struts.action.PrincipalComponentAction"
		name="principalComponentForm"
		scope="request"
		validate="true"
		parameter="method">
		<forward name="backToPrincipalComponent" path="ispy.principalComponent" />
		<forward name="principalComponentSetup" path="/principalcomponentInit.do?method=setup" />
		<forward name="viewResults" path="/viewResults.do" />
	</action>
	
	<action path="/hierarchicalClustering"
         forward="ispy.hierarchicalClustering" />
	
	<action path="/hierarchicalclustering"
	    input="ispy.hierarchicalClustering"
		type="gov.nih.nci.ispy.web.struts.action.HierarchicalClusteringAction"
		name="hierarchicalClusteringForm"
		scope="request"
		validate="true"
		parameter="method">
		<forward name="backToHierarchicalClustering" path="ispy.hierarchicalClustering" />
		<forward name="hierarchicalClusteringSetup" path="/hierarchicalclustering.do?method=setup" />
		<forward name="viewResults" path="/viewResults.do" />
	</action>
	
	<action path="/hierarchicalclusteringInit"
		type="gov.nih.nci.ispy.web.struts.action.HierarchicalClusteringAction"
		name="hierarchicalClusteringForm"
		scope="request"
		validate="false"
		parameter="method">
		<forward name="backToHierarchicalClustering" path="ispy.hierarchicalClustering" />
		<forward name="hierarchicalClusteringSetup" path="/hierarchicalclustering.do?method=setup" />
	</action>
	
	
	<action path="/pcaReport"
		type="gov.nih.nci.ispy.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="/jsp/pcaReport.jsp" />
	</action>
	
	
	<action path="/hcReport"
		type="gov.nih.nci.ispy.web.struts.action.DoFirst"
		name="noForm">
		<forward name="success" path="/jsp/hcReport.jsp" />
	</action>	
	
	
	<action path="/viewResults"
	    input="ispy.viewResults"
		type="gov.nih.nci.ispy.web.struts.action.ViewResultsAction"
		name="viewResultsForm"
		scope="request">
		<forward name="success" path="ispy.viewResults" />
	</action>
	
	<action path="/runReport"
           name="reportGeneratorForm"
	       type="gov.nih.nci.ispy.web.struts.action.ReportGeneratorAction"
	       scope="request"
           parameter="method"
           validate="false">
         <forward name="runGeneViewReport" path="/jsp/geneViewReport.jsp" />
         <forward name="runCSVGeneViewReport" path="/jsp/geneViewReportCSV.jsp" />
    </action>
 </action-mappings>
    
    <!-- ========== Controller Configuration =============================== -->
    <controller />
    <!-- ========== Message Resources Definitions ========================== -->
    <message-resources parameter="ApplicationResources" />
    <!-- ========== Plug Ins Configuration ================================= -->
	 <plug-in className="org.apache.struts.tiles.TilesPlugin" >
	   <set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
	   <set-property property="definitions-parser-validate" value="true" />
	   <set-property property="definitions-debug" value="2" />
	   <set-property property="definitions-parser-details" value="2" />
	   <set-property property="moduleAware" value="true" />
	 </plug-in>
</struts-config>

